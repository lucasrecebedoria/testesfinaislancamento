
function printThermalReceipt(data) {
  const win = window.open('', '_blank', 'width=400,height=800');
  const now = new Date();
  const dt = now.toLocaleString('pt-BR');
  const html = `<!DOCTYPE html>
  <html><head><meta charset="utf-8">
  <title>Recibo</title>
  <style>
    @page { size: 80mm 150mm; margin: 4mm; }
    body { 
      font-family: "Arial Black", "Trebuchet MS", sans-serif; 
      font-size: 14px; 
      font-weight: bold;
    }
    h1 { 
      text-align: center; 
      font-size: 16px; 
      margin: 5px 0 8px; 
    }
    .line { 
      text-align: right; 
      margin: 3px 0; 
      padding-right: 2mm;
    }
    .label { font-weight: bold; }
    .bar {
      border-top: 2px solid green;
      margin: 6px 0;
    }
    .sig { 
      margin-top: 20px; 
      border-top: 1px solid #000; 
      width: 100%; 
      text-align: center; 
      padding-top: 5px;
    }
  </style></head>
  <body onload="window.print(); setTimeout(()=>window.close(), 500);">
    <h1>RECIBO DE PAGAMENTO MANUAL</h1>
    <div class="bar"></div>
    <div class="line"><span class="label">Tipo de validador:</span> ${data.tipoValidador}</div>
    <div class="line"><span class="label">PREFIXO:</span> ${data.prefixo}</div>
    <div class="line"><span class="label">QUANTIDADE BORDOS:</span> ${data.qtdBordos}</div>
    <div class="line"><span class="label">VALOR:</span> R$ ${Number(data.valor).toFixed(2)}</div>
    <div class="line"><span class="label">MATRICULA MOTORISTA:</span> ${data.matriculaMotorista}</div>
    <div class="line"><span class="label">MATRICULA RECEBEDOR:</span> ${data.matriculaRecebedor}</div>
    <div class="line"><span class="label">DATA RECEBIMENTO:</span> ${dt}</div>
    <div class="bar"></div>
    <div class="sig">ASSINATURA RECEBEDOR</div>
  </body></html>`;
  win.document.write(html);
  win.document.close();
}
